<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz Stats</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div class="stats-container">
        <h1>Your Quiz Stats</h1>
        <div id="statsList"></div>
        <button onclick="goBack()">Back to Quiz Selector</button>
    </div>

    <script>
        // Retrieve stats from local storage and display them
        document.addEventListener("DOMContentLoaded", () => {
            const statsList = document.getElementById("statsList");
            const stats = JSON.parse(localStorage.getItem("quizStats")) || [];

            stats.forEach(stat => {
                const statContainer = document.createElement("div");
                statContainer.classList.add("stat-item");

                const quizTitle = document.createElement("h2");
                quizTitle.textContent = `${stat.quizName} - Score: ${stat.score}/${stat.total} - Date: ${stat.date}`;
                statContainer.appendChild(quizTitle);

                const questionsList = document.createElement("ul");

                stat.detailedResults.forEach(result => {
                    const questionItem = document.createElement("li");
                    questionItem.innerHTML = `
                        <strong>Question:</strong> ${result.question}<br>
                        <strong>Your Answer:</strong> ${result.selectedAnswer} ${
                            result.isCorrect ? "<span class='correct'>✓ Correct</span>" : "<span class='incorrect'>✗ Incorrect</span>"
                        }<br>
                        <strong>Correct Answer:</strong> ${result.correctAnswer}
                    `;
                    questionsList.appendChild(questionItem);
                });

                statContainer.appendChild(questionsList);
                statsList.appendChild(statContainer);
            });
        });

        // Function to go back to the quiz selector page
        function goBack() {
            window.location.href = 'index.html'; // Adjust if necessary
        }
    </script>
</body>
</html>
